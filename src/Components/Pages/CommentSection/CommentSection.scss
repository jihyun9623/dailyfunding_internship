@import "src/Style/global.scss";

// 댓글창 파트 (열렸다 닫혔다 함)
section.comment_wrap {
  padding: 51px 43px 141px 43px;

  @media only screen and (max-width: 660px) {
    padding: 46px 0 60px 0;
  }

  @media #{$phone} {
    padding: 46px 0 30px 0;
  }

  .comment_inner {
    max-width: 878px;
    margin: 0 auto;

    // 댓글 개수
    .comment_top_div {
      p {
        font-size: 22px;
        letter-spacing: -1.32px;
        color: #909090;
        margin-bottom: 14.5px;

        @media #{$pad} {
          display: none;
        }

        span {
          color: $theme-black2;
          margin-left: 7px;
        }
      }

      div {
        border-top: 1px solid #dddddd;
      }
    }

    // 남의 댓글 리스트 (댓글 작성란 제외)
    .comment_list_div {
      padding-bottom: 6px;
      user-select: none;

      > div > .comment_item {
        border-bottom: 1px solid #dddddd;
      }

      .comment_item {
        position: relative;
        padding: 30.5px 0;
        z-index: 50;

        @media only screen and (max-width: 660px) {
          padding: 26px;
        }

        @media #{$phone} {
          padding: 23.5px 26px;
        }

        &.editting_comment_item {
          @media only screen and (max-width: 660px) {
            height: 148px;
          }
        }

        // 댓글 상단 댓글 정보 (작성자, 날짜, 수정삭제 버튼 등)
        .comment_info {
          display: flex;
          justify-content: space-between;
          align-items: center;
          flex-wrap: wrap;

          .left_info {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            margin-bottom: 7px;

            .email {
              font-size: 17px;
              font-weight: 500;
              letter-spacing: -0.51px;

              @media #{$pad} {
                font-size: 16px;
              }

              @media only screen and (max-width: 660px) {
                font-size: 15px;
                letter-spacing: -0.45px;
              }
            }

            .dot {
              width: 2px;
              height: 2px;
              background-color: #909090;
              border-radius: 50%;
              margin: 0 5px;
            }

            .date {
              font-size: 14px;
              color: #909090;
              margin-right: 9px;

              @media only screen and (max-width: 660px) {
                font-size: 12px;
                margin-right: 5px;
              }
            }

            img.secret_icon {
              width: 13px;
              margin-right: 9px;

              @media only screen and (max-width: 660px) {
                width: 10px;
              }
            }

            button {
              display: flex;
              align-items: center;
              border: none;
              font-size: 17px;
              color: #909090;
              cursor: pointer;

              &:hover {
                color: $theme-black2;
              }

              @media #{$pad} {
                font-size: 15px;
              }

              img {
                width: 16px;
                margin-right: 3px;
                margin-top: 2px;
              }
            }
          }

          .right_buttons {
            margin-bottom: 7px;

            // 수정, 삭제 버튼
            > button {
              border: 1px solid #dddddd;
              border-radius: 0;
              color: #909090;
              font-size: 15px;
              letter-spacing: -0.45px;
              padding: 1px 15px;
              margin-right: 4px;
              cursor: pointer;

              &:last-child {
                margin: 0;
              }

              @media only screen and (max-width: 660px) {
                font-size: 13px;
                padding: 1px 13px;
              }
            }
          }
        }

        // 실제 코멘트
        .comment {
          font-size: 20px;
          font-weight: 300;
          line-height: 37px;
          letter-spacing: -0.6px;

          @media #{$pad} {
            font-size: 18px;
            line-height: 34px;
          }

          @media only screen and (max-width: 660px) {
            font-size: 15px;
            line-height: 25px;
            letter-spacing: -0.45px;
          }
        }
      }

      // 답글(대댓글)
      .reply_wrap {
        background-color: #f6f7f8;
        padding-left: 36px;
        border-bottom: 1px solid #dddddd;

        @media only screen and (max-width: 660px) {
          padding-left: 26px;
        }

        > div {
          border-bottom: 1px solid #dddddd;

          &:last-child {
            border-bottom: none;
          }
        }

        .comment_item {
          display: flex;
          flex-wrap: wrap;

          // 현재 작성중인 답글의 경우 660 이하 미디어쿼리에서
          // absolute 이기 때문에 고정 height 값 부여
          &.now_reply_writing {
            border-top: 1px solid #dddddd;

            @media only screen and (max-width: 660px) {
              height: 202px;
            }
          }

          .reply_icon {
            position: absolute;
            top: 26px;
            left: 0;
            border-left: 1px solid #bbbbbb;
            border-bottom: 1px solid #bbbbbb;
            width: 17px;
            height: 18px;

            @media only screen and (max-width: 660px) {
              width: 16px;
              height: 17px;
              top: 22px;
            }
          }

          .reply_body {
            width: calc(100% - 34px);
            margin: 0 34px;

            @media only screen and (max-width: 660px) {
              width: 100%;
              margin: 0;
            }

            .comment_write_div {
              margin-top: 0;

              // 현재 작성중인 답글의 경우 660 이하 미디어쿼리에서
              // 왼쪽으로 당겨주기 위해 absolute 사용..
              @media only screen and (max-width: 660px) {
                &.now_reply_writing {
                  position: absolute;
                  left: 15px;
                  width: calc(100% - 42px);
                }
              }
            }
          }
        }

        // 답글(대댓글) 내부에서 댓글 수정창
        .comment_write_div.comment_edit {
          @media only screen and (max-width: 660px) {
            position: absolute;
            width: calc(100% + 27px);
            left: -26px;
            top: -24px;
          }
        }
      }

      // 660px 이하의 미디어쿼리에서,
      // 답글 작성하거나 수정할 때의 폰트사이즈와
      // 새로운 댓글 작성할 때의 디자인이 달라서
      // 해당 파트에서 구분
      .comment_write_div {
        textarea {
          @media only screen and (max-width: 660px) {
            font-size: 17px;
            letter-spacing: -0.51px;
          }
        }

        // 댓글 내부에서 댓글 수정창
        &.comment_edit {
          @media only screen and (max-width: 660px) {
            position: absolute;
            width: calc(100% + 1px);
            left: 0px;
            top: -24px;
          }
        }
      }
    }

    // 댓글 작성
    .comment_write_div {
      margin-top: 24.5px;
      border: 1px solid #dddddd;
      background-color: white;

      &.comment_edit {
        margin-top: 23px !important;

        // @media only screen and (max-width: 660px) {
        //   position: absolute;
        //   width: calc(100% + 27px);
        //   left: -26px;
        //   top: -24px;
        // }
      }

      textarea {
        border: none;
        font-size: 20px;
        padding: 21px 25px 0 25px;
        width: 100%;
        resize: none;

        &::placeholder {
          color: #dddddd;
        }

        @media #{$pad} {
          font-size: 19px;
        }
      }

      .write_bottom_div {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 21px 25px;

        p {
          font-size: 18px;
          letter-spacing: -1.08px;
          color: #909090;
          user-select: none;

          @media #{$pad} {
            font-size: 15px;
          }

          img {
            width: 24px;
            margin-right: 6px;
            cursor: pointer;

            @media #{$pad} {
              width: 20px;
            }
          }
        }

        button {
          border: 1px solid #909090;
          border-radius: 24px;
          padding: 4px 19px;
          font-size: 18px;
          letter-spacing: -1.08px;
          color: #909090;
          margin-left: 5px;
          cursor: pointer;

          &.active {
            background-color: #909090;
            color: white;
          }

          @media #{$pad} {
            padding: 3px 16px;
            font-size: 15px;
          }
        }
      }
    }
  }
}
